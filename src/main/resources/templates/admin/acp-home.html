<!DOCTYPE html>
<html lang="en">
<!-- HEAD-->
<head data-th-replace="admin/fragments/acp-head :: head('Admin Home')">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Handemdowns</title>
    <link rel="shortcut icon" href="../../static/images/favicon/favicon.ico" type="image/x-icon" />
    <link rel="icon" href="../../static/images/favicon/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="../../static/css/bootstrap.min.css" media="screen" />
    <link rel="stylesheet" href="../../static/css/font-awesome.min.css" media="screen" />
    <link rel="stylesheet" href="../../static/css/plugins.min.css" media="screen" />
    <link rel="stylesheet" href="../../static/css/handemdowns.min.css" media="screen" />
</head>
<!-- HEAD -->

<body>
<!-- NAVIGATION -->
<div data-th-replace="admin/fragments/acp-navigation :: navigation"></div>
<!-- / NAVIGATION -->

<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Admin Control Panel</h1>
        </div>
    </div>

    <!-- INFO PANELS -->
    <div class="row">
        <div class="col-lg-3 col-md-6">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xs-3">
                            <i class="fa fa-file-text-o fa-5x"></i>
                        </div>
                        <div class="col-xs-9 text-right">
                            <div class="huge" data-th-text="${adCount}">0</div>
                            <div>Ads!</div>
                        </div>
                    </div>
                </div>
                <a href="javascript:void(0);">
                    <div class="panel-footer">
                        <span class="pull-left">View Details</span>
                        <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                        <div class="clearfix"></div>
                    </div>
                </a>
            </div>
        </div>
        <div class="col-lg-3 col-md-6">
            <div class="panel panel-green">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xs-3">
                            <i class="fa fa-user fa-5x"></i>
                        </div>
                        <div class="col-xs-9 text-right">
                            <div class="huge" data-th-text="${userCount}">0</div>
                            <div>Users!</div>
                        </div>
                    </div>
                </div>
                <a href="javascript:void(0);">
                    <div class="panel-footer">
                        <span class="pull-left">View Details</span>
                        <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                        <div class="clearfix"></div>
                    </div>
                </a>
            </div>
        </div>
        <div class="col-lg-3 col-md-6">
            <div class="panel panel-yellow">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xs-3">
                            <i class="fa fa-paypal fa-5x"></i>
                        </div>
                        <div class="col-xs-9 text-right">
                            <div class="huge" data-th-text="${donations}">$0</div>
                            <div>Donations! (CAD)</div>
                        </div>
                    </div>
                </div>
                <a href="javascript:void(0);">
                    <div class="panel-footer">
                        <span class="pull-left">View Details</span>
                        <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                        <div class="clearfix"></div>
                    </div>
                </a>
            </div>
        </div>
        <div class="col-lg-3 col-md-6">
            <div class="panel panel-red">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xs-3">
                            <i class="fa fa-support fa-5x"></i>
                        </div>
                        <div class="col-xs-9 text-right">
                            <div class="huge" data-th-text="${supportTicketCount}">0</div>
                            <div>Support Tickets!</div>
                        </div>
                    </div>
                </div>
                <a href="javascript:void(0);">
                    <div class="panel-footer">
                        <span class="pull-left">View Details</span>
                        <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                        <div class="clearfix"></div>
                    </div>
                </a>
            </div>
        </div>
    </div>
    <!-- / INFO PANELS -->

    <div class="row">
        <div class="col-lg-8">

            <!-- GROWTH BY ADS -->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <i class="fa fa-bar-chart-o fa-fw"></i> Growth By Ads
                </div>
                <div class="panel-body">
                    <div id="ad-growth-chart"></div>
                </div>
            </div>
            <!-- / GROWTH BY ADS -->

            <!-- REPORTED ADS -->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <i class="fa fa-bar-chart-o fa-fw"></i> Reported Ads
                </div>
                <div data-th-replace="admin/fragments/acp-fragments :: reported-ads-table"></div>
            </div>
            <!-- / REPORTED ADS -->
        </div>
        <div class="col-lg-4">

            <!-- NOTIFICATIONS -->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <i class="fa fa-bell fa-fw"></i> Notifications Panel
                </div>
                <div class="panel-body">
                    <div class="list-group" data-th-each="notification : ${systemNotifications}">
                        <a href="" class="list-group-item">
                            <i class="fa fa-tasks fa-fw"></i> <span data-th-text="${notification.type}">Notification Type</span>
                            <br /><small data-th-text="${notification.details}">System Notification Details</small>
                            <span class="pull-right text-muted small" data-th-text="${#dates.format(notification.createDate, 'dd-MMM HH:mm')}"><em>4 minutes ago</em></span>
                        </a>
                    </div>
                    <a href="javascript:void(0);" class="btn btn-default btn-block">View All Notifications</a>
                </div>
            </div>
            <!-- / NOTIFICATIONS -->

            <!-- USER AD COUNT CHART -->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <i class="fa fa-bar-chart-o fa-fw"></i> User Ads Breakdown
                </div>
                <div class="panel-body">
                    <div id="user-ad-count-chart"></div>
                    <a href="javascript:void(0);" class="btn btn-default btn-block">View Details</a>
                </div>
            </div>
            <!-- / USER AD COUNT CHART -->

        </div>
    </div>
</div>

<!-- COMMON JAVASCRIPT -->
<script src="../../static/js/library/jquery-2.2.4.min.js" data-th-src="@{/js/library/jquery-2.2.4.min.js}"></script>
<script src="../../static/js/bootstrap/bootstrap.min.js" data-th-src="@{/js/bootstrap/bootstrap.min.js}"></script>
<script src="../../static/js/handemdowns-admin.min.js" data-th-src="@{/js/handemdowns-admin.min.js}"></script>
<script src="../../static/js/plugins/metis-menu/metisMenu.min.js" data-th-src="@{/js/plugins/metis-menu/metisMenu.min.js}"></script>
<!-- / COMMON JAVASCRIPT -->

<!-- PAGE JAVASCRIPT -->
<script src="../../static/js/plugins/datatables/jquery.dataTables.min.js" data-th-src="@{/js/plugins/datatables/jquery.dataTables.min.js}"></script>
<script src="../../static/js/plugins/datatables/dataTables.bootstrap.min.js" data-th-src="@{/js/plugins/datatables/dataTables.bootstrap.min.js}"></script>
<script src="../../static/js/plugins/datatables-responsive/dataTables.responsive.min.js" data-th-src="@{/js/plugins/datatables-responsive/dataTables.responsive.min.js}"></script>
<script src="../../static/js/plugins/datatables-responsive/responsive.bootstrap.min.js" data-th-src="@{/js/plugins/datatables-responsive/responsive.bootstrap.min.js}"></script>
<script src="../../static/js/plugins/raphael.js/raphael.min.js" data-th-src="@{/js/plugins/raphael.js/raphael.min.js}"></script>
<script src="../../static/js/plugins/morris.js/morris.min.js" data-th-src="@{/js/plugins/morris.js/morris.min.js}"></script>
<script src="../../static/js/plugins/toastr/toastr.min.js" data-th-src="@{/js/plugins/toastr/toastr.min.js}"></script>
<!-- / PAGE JAVASCRIPT -->

<script data-th-inline="javascript">
    // <![CDATA[
    var adGrowthData = /*[[${adGrowthData}]]*/ null;
    var userAdCountData = /*[[${userAdCountData}]]*/ null;
    // ]]>

    $(document).ready(function() {
        toastr.options = {closeButton: true, debug: false, newestOnTop: false, progressBar: false, positionClass: "toast-bottom-right", preventDuplicates: true,
            onclick: null, showDuration: "300", hideDuration: "1000", timeOut: "3000", extendedTimeOut: "1000", showEasing: "swing", hideEasing: "linear",
            showMethod: "fadeIn", hideMethod: "fadeOut"};

        Morris.Area({
            element: "ad-growth-chart",
            data: JSON.parse(adGrowthData),
            xkey: "period",
            ykeys: ["adCount"],
            labels: ["Ads"],
            pointSize: 2,
            hideHover: "auto",
            resize: true });

        $('#reported-ads-table').DataTable({
            responsive: true,
            lengthChange: false,
            language: {emptyTable: "No reported ads."},
            order: [4, "desc"],
            fixedColumns: true,
            columns: [{width: "50px"}, {width: "120px", orderable: false}, {orderable: false}, {width: "120px"}, {width: "100px"}, {width: "100px", orderable: false}]
        });

        Morris.Donut({
            element: "user-ad-count-chart",
            data: JSON.parse(userAdCountData),
            resize: true
        });
    });
</script>
</body>
</html>